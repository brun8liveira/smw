<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>SNES NFC</title>

<script>
  EJS_DEBUG_XX = true;
  EJS_threads = false;
  EJS_player = "#game";
  EJS_core = "snes";
  EJS_gameUrl = "roms/smw.smc";
  EJS_pathtodata = "EmulatorJS-main/data/";
  EJS_startOnLoaded = false;
  EJS_fullscreenOnLoaded = false;

  let emulatorReady = false;

  // ðŸ”¥ Evento correto
  EJS_ready = function () {
    emulatorReady = true;
    console.log("EmulatorJS pronto");
  };
</script>

<script src="EmulatorJS-main/data/loader.js"></script>

<style>
html, body {
  margin: 0;
  background: black;
  height: 100%;
  overflow: hidden;
}
#game {
  width: 100vw;
  height: 100vh;
  display: none;
}
#start {
  position: fixed;
  inset: 0;
  background: black;
  color: white;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}
</style>
</head>

<body>

<div id="start" onclick="startGame()">â–¶ TOCAR PARA JOGAR</div>
<div id="game"></div>

<script>
function startGame() {
  if (!emulatorReady || !window.EJS_emulator) {
    alert("Carregando, aguarde 1 segundo...");
    return;
  }

  document.getElementById("start").style.display = "none";
  document.getElementById("game").style.display = "block";

  // ðŸ”´ iniciar corretamente
  window.EJS_emulator.start();

  // fullscreen apÃ³s gesto
  document.documentElement.requestFullscreen?.();
}
</script>

</body>
</html>
